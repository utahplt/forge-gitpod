#lang forge/core

(sig Node)
(relation edges (Node Node Node))

(run my-run #:preds [(= (card edges) (node/int/constant 4))])
(display my-run)

#|
Key:
r0 - Int
r1 - Node
r2 - succ
r3 - edges

(configure :bitwidth 4 :solver SAT4J :max-solutions 1 :verbosity 7 :sb 20 :core-gran 0 :log-trans 1)
(univ 20)
(ints [(-8 0)(-7 1)(-6 2)(-5 3)(-4 4)(-3 5)(-2 6)(-1 7)(0 8)(1 9)(2 10)(3 11)(4 12)(5 13)(6 14)(7 15)])
(r0 [{(0) (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12) (13) (14) (15)} :: 
     {(0) (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12) (13) (14) (15)}])
(r1 [none :: {(16) (17) (18) (19)}])
(r2 [{(0 1) (1 2) (2 3) (3 4) (4 5) (5 6) (6 7) (7 8) (8 9) (9 10) (10 11) (11 12) (12 13) (13 14) (14 15)} :: 
     {(0 1) (1 2) (2 3) (3 4) (4 5) (5 6) (6 7) (7 8) (8 9) (9 10) (10 11) (11 12) (12 13) (13 14) (14 15)}])
(r3 [(-> none (-> none none)) :: 
     {(16 16 16) (16 16 17) (16 16 18) (16 16 19) (16 17 16) (16 17 17) (16 17 18) (16 17 19) 
      (16 18 16) (16 18 17) (16 18 18) (16 18 19) (16 19 16) (16 19 17) (16 19 18) (16 19 19) 
      (17 16 16) (17 16 17) (17 16 18) (17 16 19) (17 17 16) (17 17 17) (17 17 18) (17 17 19) 
      (17 18 16) (17 18 17) (17 18 18) (17 18 19) (17 19 16) (17 19 17) (17 19 18) (17 19 19) 
      (18 16 16) (18 16 17) (18 16 18) (18 16 19) (18 17 16) (18 17 17) (18 17 18) (18 17 19) 
      (18 18 16) (18 18 17) (18 18 18) (18 18 19) (18 19 16) (18 19 17) (18 19 18) (18 19 19) 
      (19 16 16) (19 16 17) (19 16 18) (19 16 19) (19 17 16) (19 17 17) (19 17 18) (19 17 19) 
      (19 18 16) (19 18 17) (19 18 18) (19 18 19) (19 19 16) (19 19 17) (19 19 18) (19 19 19)}])
(f0 (= (# r3 )4 ))
(assert f0)
(f1 (in r2 (-> r0 r0 )))
(assert f1)
(f2 (in r3 (-> r1 r1 r1 )))
(assert f2)
(solve)
(sat :model ((r0 ((0) (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12) (13) (14) (15))) 
             (r1 ((16) (17) (18) (19))) 
             (r2 ((0 1) (1 2) (2 3) (3 4) (4 5) (5 6) (6 7) (7 8) (8 9) (9 10) (10 11) (11 12) (12 13) (13 14) (14 15))) 
             (r3 ((16 18 18) (16 19 19) 
                  (17 16 16) (17 16 17) (17 16 18) (17 16 19) (17 17 18) (17 17 19) (17 18 18) (17 19 17) (17 19 18) (17 19 19) 
                  (18 17 18) (18 17 19) (18 18 17) (18 18 18) 
                  (19 17 17) (19 18 17) (19 18 19) (19 19 18)))))
|#